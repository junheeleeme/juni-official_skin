s_article_rep
    s_permalink_article_rep
        div.post-top-thumb
            s_article_rep_thumbnail
                div.post-thumb-img(style="background-image: url('[##_article_rep_thumbnail_raw_url_##]')")
                //- img.post-thumb-img(src="[##_article_rep_thumbnail_raw_url_##]" alt="123")
                div.post-thumb-info
                    h2.post-thumb-title [##_article_rep_title_##]
                    p.post-thumb-sub
                        span.sub-cate [##_article_rep_category_##]
                        span.sub-space |
                        span.sub-date [##_article_rep_simple_date_##]
        section.content
            div.content-wrap
                div.post-header
                    //- h2.post-title [##_article_rep_title_##]
                    //- p.post-info [##_article_rep_category_##] - [##_article_rep_simple_date_##]
                    s_ad_div
                        div.post-admin
                            span [##_s_ad_s1_label_##]
                            a(href="[##_s_ad_m_link_##]") 수정
                    div.post-author 작성자 : [##_article_rep_author_##]
                div.post-content [##_article_rep_desc_##]
                div.post-commend
                    s_rp
                        include CommentWrite
                        include CommentList
            div.post-toc

    script(scoped).
        // post toc
        const content = document.querySelector('.content-wrap')
        if(content !== null){
            const headings = content.querySelectorAll('h2, h3, h4')
            const headingMap = {}

            Array.prototype.forEach.call(headings, function (heading) {
                const id = heading.id ? heading.id : heading.textContent.trim().toLowerCase()
                            .split(' ').join('-').replace(/[\!\@\#\$\%\^\&\*\(\):]/ig, '')
                headingMap[id] = !isNaN(headingMap[id]) ? ++headingMap[id] : 0
                if (headingMap[id]) {
                    heading.id = id + '-' + headingMap[id]
                } else {
                    heading.id = id
                }
            })
            
            const thumbHeight = document.querySelector('.post-top-thumb').clientHeight

            tocbot.init({
                tocSelector: '.post-toc',
                contentSelector: '.content-wrap',
                headingSelector: 'h2, h3, h4',
                hasInnerContainers: false,
                headingsOffset: -100,
                scrollSmooth: true,
                headingsOffset: -(thumbHeight+200)
            });
        }
        

    style.
        .content {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-start;;
        }
        .content-wrap {
            max-width: 780px;
            padding: 0 1rem;
            width: 100%;
        }
        .content ~ .paging { display: none; }

        .post-toc {
            position: sticky;
            top: 70px;
            display: block;
            width: 250px;
            margin-left: 1rem;
            padding: 12px 7px;
            border-radius: 2px;
            overflow: hidden;
            transition: margin-top 0.1s ease, background-color 0.33s ease;
        }

        .toc-link::before { 
            width: 3px;
            background-color: #dce1ee;
        }
        .is-active-link::before {
            background-color: #54BC4B !important;
        }
        .dark .toc-link::before { 
            background-color: #9f9f9f;
        }
        .dark .is-active-link::before {
            background-color: #54BC4B !important;
        }
        .post-top-thumb {
            position: relative;
            top: 0rem; left: 0rem;
            width: calc(100vw - 280px);
            height: calc(100vh - 55px);
        }
        .post-top-thumb::after {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.25);
            transition: background-color 0.33s ease;
            z-index: 6000;
        }
        .dark .post-top-thumb::after {
            background-color: rgba(0,0,0,0.55);
        }
        .post-thumb-img {
            width: 100%; height: 100%;
            background: 50% 50%/cover no-repeat;
        }
        .post-thumb-info {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            align-content: center;
            position: absolute;
            top: 50%; left: 50%;
            width: 100%; height: 200px;
            padding: 0 1rem;
            transform: translate(-50%, -50%);
            z-index: 7000;
        }
        .post-thumb-title {
            width: 100%;
            padding: 1rem 0;
            font-size: 36px;
            text-align: center;
            color: #fff;
        }
        .post-thumb-sub {
            padding: 1rem 0;
            font-size: 1.2rem;
            color: #fff;
        }
        .sub-cate, .sub-date, .sub-space { color: #fff; }
        .sub-space { margin: 0 0.5rem; }

        .post-header { 
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: flex-end;
            height: 80px;
            padding: 1rem 0;
        }
        .post-info {
            display: block;
            width: 100%;
            text-align: right;
            margin-bottom: 10px;
        }
        .post-admin {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }
        .post-admin > a {
            margin-left: 0.5rem;
        }
        .post-author { 
            padding: 8px 10px;
            color: #505050;
            background: #ececec;
            border-radius: 7px;
            margin-left: 15px;
            font-size: 14px;
            transition: color 0.33s ease, background-color 0.33s ease;
        }
        .dark .post-author {
            color: #bcbcbc;
            background: #515151;
        }
        .post-content p {
            line-height: 1.25;
        }
        .post-content h2, .post-content h3, .post-content h4 {
            padding: 0.5rem 0 !important;
        }
        .tt_article_useless_p_margin {
            position: relative;
            min-height: 350px;
            padding-bottom: 70px;
        }
        .container_postbtn { 
            position: absolute !important;
            bottom: 0; left: 0;
            width: 100%;
            padding: 0 !important;
        }
        .postbtn_like{ border: none !important; }
        .layer_post{ padding: 0 !important; }
        .postbtn_like button { 
            padding: 0 9px !important; 
            margin-right: 5px !important;
            border-radius: 3px;
            box-shadow: none;
            transition: box-shadow 0.2s ease;
        }
        .postbtn_like button:hover { box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px; }
        .layer_post .btn_mark {
            box-shadow: none;   
            border-radius: 0;
        }
        .container_postbtn .btn_menu_toolbar {
            border: none !important;
            cursor: pointer !important;
            height: 30px !important;
            border-radius: 5px !important;
        }
        .container_postbtn .postbtn_like{ padding: 0 !important; }
        .post-commend {
            color: #2c3e50;
            padding: 2rem 0 1.5rem 0;
            margin: 2rem 0 0 0;
            border-top: 1px solid #cccccc;
        }
        .dark .post-commend {
            border-top: 1px solid #727272;
        }
        @media screen and (max-width: 1300px) {
            .post-toc { display: none; }
        }
        @media screen and (max-width: 1360px) {
            .content-wrap {
                max-width: 700px;
                padding: 0px;
            }
        }
        @media screen and (max-width: 1000px) {
            .content-wrap {
                max-width: auto;
                width: 100%;
                padding: 0 10px;
            }
        }
        @media screen and (max-width: 900px) {
            .post-top-thumb { width: 100vw; height: 100vh; }
        }
        @media screen and (max-width: 720px) {
            .content { padding: 0 0 30px 0; }
            .content-wrap { padding: 0 10px; }
            .post-title {
                margin: 1rem 0;
                line-height: 1.3;
            }
        }

        .toc-list {
            margin-top: 10px !important;
            font-size: 0.9em;
        }
        .toc-list >li:first-child {
            margin-bottom: 10px !important;
        }
        .toc > .toc-list li {
            margin-bottom: 10px;
        }

        .toc > .toc-list li:last-child {
            margin-bottom: 0;
        }

        .toc > .toc-list li a {
            text-decoration: none;
        }
        .toc>.toc-list {
            overflow: hidden;
            position: relative;
        }